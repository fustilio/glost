# GLOST v0.5.0 Release Notes

## Overview

GLOST v0.5.0 is a major release that transforms GLOST into a unified/remark-style ecosystem with enhanced plugin management, discovery, and composition capabilities.

## What's New

### üöÄ Unified-Style Processor API

Fluent API for plugin composition inspired by unified/remark:

```typescript
import { glost } from "glost";
import { languageLearningPreset } from "glost/presets";

const processor = glost()
  .use(languageLearningPreset)
  .freeze();

const result = await processor.process(document);
```

### üîç Enhanced Plugin Registry

Comprehensive plugin discovery and validation:

```typescript
import { pluginRegistry } from "glost/registry";

const plugins = pluginRegistry.search({ language: "th" });
const report = pluginRegistry.checkConflicts(["plugin1", "plugin2"]);
```

### üì¶ Preset System

Pre-configured plugin combinations for common use cases:

- `languageLearningPreset` - Full language learning stack
- `readingAppPreset` - Interactive reading features
- `vocabularyBuilderPreset` - Word frequency and difficulty
- `grammarAnalyzerPreset` - POS and clause analysis
- `minimalPreset` - Just the essentials

### üîß CLI Tools

Command-line plugin management:

```bash
glost plugins list
glost plugins search transcription
glost plugins info transcription
glost plugins validate transcription translation frequency
```

### üåç Language Extensions Foundation

Complete provider infrastructure for language-specific features:

**Base Classes** (`glost-common`):
- `BaseLanguageProvider` - Language validation, logging, error handling
- `BaseDataProvider<TData>` - Lazy loading, caching, resource management

**Data Loaders**:
- `JsonLoader` - Load from JSON files or URLs (Node.js & Browser)
- `ApiLoader` - HTTP API with retry logic and timeout
- `CachedLoader` - Caching wrapper with TTL and localStorage

**Provider Scaffolding**:
- **Thai** (5/5): Transcription, Translation, Frequency, Difficulty, POS
- **Japanese** (5/5): Transcription, Translation, Frequency, Difficulty, POS  
- **Korean** (5/5): Transcription, Translation, Frequency, Difficulty, POS

See [Implementing Language Providers](/docs/guides/implementing-language-providers) for details.

### üéØ Package Restructure

- **`glost`** - Main facade package (new)
- **`glost-core`** - Core types and nodes (renamed from `glost`)
- **`glost-processor`** - Processor API (new)
- **`glost-registry`** - Plugin registry (new)
- **`glost-presets`** - Preset configurations (new)
- **`glost-cli`** - CLI tools (new)
- **`glost-common`** - Enhanced with provider base classes and data loaders

## Breaking Changes

### Package Names

The core package has been renamed:
- **Before:** `glost` (the core package)
- **After:** `glost-core` (core implementation), `glost` (facade package)

### Import Changes

```typescript
// v0.4.x - Still works but deprecated
import { processGLOSTWithExtensions } from "glost-extensions";
const result = processGLOSTWithExtensions(doc, [ext1, ext2]);

// v0.5.0 - Recommended
import { glost } from "glost";
const result = await glost().use(ext1).use(ext2).process(doc);
```

### Async-Only Processing

The new processor API is always async:

```typescript
// Add await to all process() calls
const result = await processor.process(document);
```

## Migration

See the [Migration Guide](/docs/migration/v0.4-to-v0.5) for detailed migration instructions.

### Quick Migration

1. Install new packages:
```bash
npm install glost@0.5.0
```

2. Update imports:
```typescript
// Old
import { processGLOSTWithExtensions } from "glost-extensions";

// New
import { glost } from "glost";
```

3. Convert to fluent API:
```typescript
// Old
const result = processGLOSTWithExtensions(doc, [ext1, ext2]);

// New
const doc = await glost().use(ext1).use(ext2).process(document);
```

## Backwards Compatibility

‚úÖ The old API (`processGLOSTWithExtensions`) still works in v0.5.0 but is deprecated.
‚ö†Ô∏è You'll see deprecation warnings in the console.
‚ùå The old API will be removed in v1.0.

## New Features

### Hooks and Middleware

```typescript
processor
  .before("translation", (doc) => console.log("Starting translation"))
  .after("translation", (doc) => console.log("Translation complete"))
  .onError((error, plugin) => console.error(`${plugin} failed:`, error))
  .onProgress((stats) => console.log(`${stats.completed}/${stats.total}`));
```

### Data Storage

Share data between plugins:

```typescript
processor
  .data("config", { theme: "dark" })
  .use(plugin1)
  .use(plugin2);
```

### Processor Freezing

Freeze for reuse across multiple documents:

```typescript
const frozen = processor.freeze();

const result1 = await frozen.process(doc1);
const result2 = await frozen.process(doc2);
```

## Performance

All performance targets exceeded:
- ‚úÖ Small docs (10-50 words): < 1ms (target: < 10ms)
- ‚úÖ Medium docs (100-500 words): 2-15ms (target: < 50ms)
- ‚úÖ Large docs (1000+ words): 15-70ms (target: < 200ms)
- ‚úÖ Handles 100K word documents
- ‚úÖ 290+ tests passing across the codebase

**Language Extensions Foundation Statistics**:
- 15 providers across 3 languages (Thai, Japanese, Korean)
- 70% reduction in provider boilerplate via base classes
- ~4,500 lines of infrastructure code
- Full TypeScript type safety
- Multi-environment support (Node.js & Browser)

## Documentation

- [Migration Guide](/docs/migration/v0.4-to-v0.5)
- [Processor API Guide](/docs/guides/processor-api)
- [Registry Guide](/docs/guides/registry)
- [Implementing Language Providers](/docs/guides/implementing-language-providers) ‚≠ê NEW
- [Package Refactoring](/docs/package-refactoring)
- [Unified Pipeline Implementation](/docs/unified-pipeline)

## Acknowledgments

This release brings GLOST in line with modern JavaScript ecosystem patterns (unified, remark, babel) while maintaining its unique focus on language learning and multilingual text processing.

## What's Next

v0.6 will focus on:
- Registry website for plugin discovery
- Comprehensive test coverage for new packages
- Additional community presets
- Performance optimizations

---

**Full Changelog:** v0.4.0...v0.5.0
