# Working with Japanese

This guide covers Japanese-specific features and patterns in GLOST.

## Japanese Language Characteristics

Japanese has unique characteristics that GLOST handles:

- **Multiple scripts** - Kanji, hiragana, katakana, romaji
- **No word spaces** - Like Thai, words run together
- **Furigana** - Reading aids above kanji
- **Pitch accent** - Regional pitch patterns

## Creating Japanese Words

### Basic Japanese Word

```typescript
import { createJapaneseWord } from 'glost-ja';

const word = createJapaneseWord({
  text: "今日",
  romaji: "kyou",
  partOfSpeech: "noun",
  furigana: "きょう"
});

// Minimal - just text
const minimalWord = createJapaneseWord({ text: "今日" });
```

### With Full Transcription Data

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "今日",
  transcription: {
    romaji: { text: "kyou" },
    furigana: { text: "きょう" },
    ipa: { text: "kʲoː" }
  },
  metadata: {
    partOfSpeech: "noun",
    usage: "Used for 'today'"
  },
  lang: "ja",
  script: "kanji"
});
```

## Script Types

### Kanji

Chinese characters with Japanese readings:

```typescript
import { createJapaneseWord } from 'glost-ja';

const word = createJapaneseWord({
  text: "日本",
  romaji: "nihon",
  partOfSpeech: "noun",
  furigana: "にほん"
});
```

### Hiragana

Native Japanese syllabary:

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "これ",
  transcription: { romaji: { text: "kore" } },
  metadata: { partOfSpeech: "pronoun" },
  lang: "ja",
  script: "hiragana"
});
```

### Katakana

Used for foreign words:

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "コンピューター",
  transcription: { romaji: { text: "konpyuutaa" } },
  metadata: { partOfSpeech: "noun", etymology: "English: computer" },
  lang: "ja",
  script: "katakana"
});
```

## Furigana (Reading Aids)

Furigana shows the reading of kanji.

### Simple Furigana

```typescript
import { createJapaneseWord } from 'glost-ja';

const word = createJapaneseWord({
  text: "食べる",
  romaji: "taberu",
  partOfSpeech: "verb",
  furigana: "たべる"
});
```

### Ruby-Style Furigana

For complex kanji-furigana alignment:

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "東京",
  transcription: {
    furigana: {
      text: "とうきょう",
      ruby: [
        { base: "東", reading: "とう" },
        { base: "京", reading: "きょう" }
      ]
    },
    romaji: { text: "toukyou" }
  },
  metadata: { partOfSpeech: "proper noun" },
  lang: "ja",
  script: "kanji"
});
```

## Word Segmentation

Japanese has no spaces between words.

### Manual Segmentation

```typescript
import { createJapaneseWord } from 'glost-ja';
import { createSentenceFromWords } from 'glost';

const words = [
  createJapaneseWord({ text: "私", romaji: "watashi", partOfSpeech: "pronoun", furigana: "わたし" }),
  createJapaneseWord({ text: "は", romaji: "wa", partOfSpeech: "particle" }),
  createJapaneseWord({ text: "学生", romaji: "gakusei", partOfSpeech: "noun", furigana: "がくせい" }),
  createJapaneseWord({ text: "です", romaji: "desu", partOfSpeech: "copula" })
];

const sentence = createSentenceFromWords(
  words,
  "ja",
  "japanese",
  "私は学生です"
);
```

## Particles

Japanese particles are crucial for grammar:

```typescript
import { createJapaneseWord } from 'glost-ja';

// Topic marker
const wa = createJapaneseWord({ text: "は", romaji: "wa", partOfSpeech: "particle" });

// Object marker
const wo = createJapaneseWord({ text: "を", romaji: "wo", partOfSpeech: "particle" });

// Subject marker
const ga = createJapaneseWord({ text: "が", romaji: "ga", partOfSpeech: "particle" });

// Direction marker
const ni = createJapaneseWord({ text: "に", romaji: "ni", partOfSpeech: "particle" });
```

## Politeness Levels

Japanese has multiple politeness registers:

### Plain Form

```typescript
import { createJapaneseWord } from 'glost-ja';

const eat = createJapaneseWord({
  text: "食べる",
  romaji: "taberu",
  partOfSpeech: "verb",
  furigana: "たべる"
});
```

### Polite Form (ます)

```typescript
import { createJapaneseWord } from 'glost-ja';

const eatPolite = createJapaneseWord({
  text: "食べます",
  romaji: "tabemasu",
  partOfSpeech: "verb",
  furigana: "たべます"
});
```

### Marking Formality

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "食べます",
  transcription: { romaji: { text: "tabemasu" } },
  metadata: {
    partOfSpeech: "verb",
    formality: "formal"
  },
  lang: "ja",
  script: "hiragana"
});
```

## Kanji Readings

Kanji can have multiple readings:

### On'yomi (Chinese Reading)

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "山",
  transcription: {
    furigana: { text: "さん" },
    romaji: { text: "san" }
  },
  metadata: {
    partOfSpeech: "noun",
    usage: "On reading, used in compounds"
  },
  lang: "ja",
  script: "kanji"
});
```

### Kun'yomi (Japanese Reading)

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "山",
  transcription: {
    furigana: { text: "やま" },
    romaji: { text: "yama" }
  },
  metadata: {
    partOfSpeech: "noun",
    usage: "Kun reading, standalone"
  },
  lang: "ja",
  script: "kanji"
});
```

## Sentence Structure

### Basic Sentence

```typescript
import { createJapaneseWord } from 'glost-ja';
import { createSentenceFromWords } from 'glost';

const words = [
  createJapaneseWord({ text: "私", romaji: "watashi", partOfSpeech: "pronoun", furigana: "わたし" }),
  createJapaneseWord({ text: "は", romaji: "wa", partOfSpeech: "particle" }),
  createJapaneseWord({ text: "本", romaji: "hon", partOfSpeech: "noun", furigana: "ほん" }),
  createJapaneseWord({ text: "を", romaji: "wo", partOfSpeech: "particle" }),
  createJapaneseWord({ text: "読みます", romaji: "yomimasu", partOfSpeech: "verb", furigana: "よみます" })
];

const sentence = createSentenceFromWords(
  words,
  "ja",
  "japanese",
  "私は本を読みます"
);
```

### With Translation

```typescript
import { createGLOSTSentenceNode } from 'glost';

const sentence = createGLOSTSentenceNode({
  originalText: "私は本を読みます",
  lang: "ja",
  script: "japanese",
  children: words,
  extras: {
    translations: {
      en: "I read a book.",
      th: "ฉันอ่านหนังสือ"
    }
  }
});
```

## JLPT Levels

Map difficulty to JLPT:

```typescript
import { createGLOSTWordNode } from 'glost';

const word = createGLOSTWordNode({
  value: "食べる",
  transcription: { romaji: { text: "taberu" } },
  metadata: { partOfSpeech: "verb" },
  lang: "ja",
  script: "hiragana",
  extras: {
    metadata: {
      difficulty: "beginner",
      jlptLevel: "N5"
    }
  }
});
```

## Document Example

```typescript
import { createJapaneseWord } from 'glost-ja';
import {
  createSentenceFromWords,
  createParagraphFromSentences,
  createDocumentFromParagraphs
} from 'glost';

// Create a Japanese lesson document
const greeting1 = [
  createJapaneseWord({ text: "こんにちは", romaji: "konnichiwa", partOfSpeech: "interjection" })
];

const greeting2 = [
  createJapaneseWord({ text: "私", romaji: "watashi", partOfSpeech: "pronoun", furigana: "わたし" }),
  createJapaneseWord({ text: "は", romaji: "wa", partOfSpeech: "particle" }),
  createJapaneseWord({ text: "田中", romaji: "tanaka", partOfSpeech: "proper noun", furigana: "たなか" }),
  createJapaneseWord({ text: "です", romaji: "desu", partOfSpeech: "copula" })
];

const sentences = [
  createSentenceFromWords(greeting1, "ja", "japanese", "こんにちは"),
  createSentenceFromWords(greeting2, "ja", "japanese", "私は田中です")
];

const paragraph = createParagraphFromSentences(sentences);

const document = createDocumentFromParagraphs(
  [paragraph],
  "ja",
  "japanese",
  { title: "Japanese Self-Introduction" }
);
```

## Processing Japanese Documents

```typescript
import { glost } from 'glost';

const result = await glost()
  .use(furiganaPlugin)
  .use(frequencyPlugin)
  .use(difficultyPlugin)
  .process(document);

// Access processed document
const processedDoc = result.document;
```
